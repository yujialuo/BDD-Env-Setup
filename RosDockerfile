FROM ubuntu:16.04

RUN apt-get update && apt-get install -y \
  sudo \
  gcc \
  git \
  mercurial \
  build-essential

RUN sudo sh -c 'echo "deb http://packages.ros.org/ros/ubuntu xenial main" > /etc/apt/sources.list.d/ros-latest.list'

RUN sudo apt-key adv --keyserver hkp://ha.pool.sks-keyservers.net:80 --recv-key 421C365BD9FF1F717815A3895523BAEEB01FA116

RUN sudo apt-get update
RUN sudo apt-get install ros-kinetic-desktop-full -y

RUN touch /root/.bashrc
RUN echo "source /opt/ros/kinetic/setup.bash" >> /root/.bashrc
RUN /bin/bash -c "source /root/.bashrc"
RUN sudo apt-get install -y \
  python-rosinstall \
  python-rosinstall-generator \
  python-setuptools \
  python-dev

RUN sudo easy_install pip

ADD ./scripts /scripts
RUN pip install -r /scripts/requirements.txt

CMD ["/scripts/setup.sh"]



